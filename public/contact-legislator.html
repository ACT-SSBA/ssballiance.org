<!doctype html>
<html>
<head>
  <title>Find your legislator</title>
  <meta charset="UTF-8">
  <meta name="description" content="Tell Congress that small software businesses are in danger because of changes to Section 174">
  <link rel="icon" type="image/x-icon" href="https://ssballiance.org/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="style.css" rel="stylesheet">

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://ssballiance.org">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Small Software Business Owners Alliance">
  <meta property="og:description" content="Tell Congress that small software businesses are in danger because of changes to Section 174">
  <meta property="og:image" content="https://ssballiance.org/card-updated.png">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="ssballiance.org">
  <meta property="twitter:url" content="https://ssballiance.org">
  <meta name="twitter:title" content="Small Software Business Owners Alliance">
  <meta name="twitter:description" content="Tell Congress that small software businesses are in danger because of changes to Section 174">
  <meta name="twitter:image" content="https://ssballiance.org/card-updated.png">
  <script src="//unpkg.com/alpinejs" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <div class="md:flex mx-auto max-w-7xl">
    <!-- Text -->
    <div class="bg-white mt-8 pb-32 px-6 lg:px-8">
      <div class="mx-auto max-w-7xl text-base leading-7 text-gray-700">
        <h1 class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Contact your legislator</h1>
        <p class="mt-6 text-xl leading-8">Now that the letter is out, it's time for everyone to send it to their Representatives and Senators directly.</p>
        <div class="mt-10 max-w-7xl">
          <p>Most Senators and Representatives have a contact form that you can use to email them. Some might have an email address on their site. <a href="https://www.congress.gov/members/find-your-member">On Congress.gov, you can use their Representative/Senator lookup tool and it provides the direct links for their contact pages.</a></p>
          <br>
          <p>Your time is well-spent doing this. Congressional staff are required to keep records of which bills constituents (i.e. people who live in their district or state) contact their office about. Staff report these tallies to their Representative/Senator and other staff.</p>
        </div>
      </div>

      <!-- Form -->
      <div class="mt-8 max-w-xl mx-auto" x-data="legislatorLookup()">
        <label for="zip" class="block text-sm font-medium leading-6 text-gray-900">Contact your legislator</label>
        <form class="mt-2 flex rounded-md shadow-sm" @submit.prevent="findLegislator">
          <div class="relative flex flex-grow items-stretch focus-within:z-10">
            <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
              <svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
</svg>
            </div>
            <input type="number" name="zip" id="zip" x-model="zip" class="block w-full rounded-none rounded-l-md border-0 py-1.5 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Zip code">
          </div>
          <button type="submit" class="relative -ml-px inline-flex items-center gap-x-1.5 rounded-r-md px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
            <svg class="-ml-0.5 h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9zm3.75 11.625a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
</svg>

            Continue
          </button>
        </form>

        <div x-show="errorMessage">
          <p class="mt-2 text-sm text-red-600" x-text="errorMessage"></p>
        </div>

        <div x-show="districts && districts.length > 0">
          <template x-for="district in districts">
            <div class="my-4">
              <h2 x-text="district.name" class="font-bold"></h2>

              <template x-for="legislator in district.current_legislators">
                <div class="mb-2">
                  <p class="underline">
                    <span x-text="legislator.bio.first_name"></span>
                    <span x-text="legislator.bio.last_name"></span>
                  </p>

                  <p x-text="legislator.contact.phone"></p>
                  <a :href="legislator.contact.url" class="text-blue-700" target="_blank" x-text="legislator.contact.url"></a>
                  <a :href="legislator.contact.contact_form" class="text-blue-700" target="_blank" x-text="legislator.contact.contact_form" x-if="legislator.contact.contact_form"></a>
                </div>
              </template>
            </div>
          </template>
        </div>
      </div>

      <script>
      function legislatorLookup() {
        return {
          errorMessage: null,
          response: null,
          districts: null,
          zip: '',
          async findLegislator() {
            this.errorMessage = null;

            if (this.zip.length !== 5) {
              this.errorMessage = 'Please enter your 5-digit zip code.'
            } else {
              try {
                this.response = await axios.get('https://api.geocod.io/v1.7/geocode', {
                  params: {
                    postal_code: this.zip,
                    api_key: 'c5c546001a00815485a5654a651a085854c4409',
                    fields: 'cd'
                  }
                });
                this.districts = this.response?.data?.results[0].fields?.congressional_districts;
              } catch (error) {
                this.errorMessage = 'Could not find legislators for this zip code';
              }
            }
          }
        }
      }
      </script>


      <!-- Footer -->
      <footer class="mx-auto mt-40 max-w-7xl overflow-hidden px-6 pb-4 sm:mt-64 sm:pb-8 lg:px-8">
        <p class="mt-10 text-center text-xs leading-5 text-gray-500">This website was created by <a href="https://twitter.com/mjwhansen">Michele Hansen</a>. Your data will only be used to keep you updated. <a href="/privacy.html">See privacy policy</a></p>
      </footer>
      <div class="pb-8 flex gap-x-12 justify-center relative z-10">
        <a href="#join" class="text-sm font-semibold leading-6 text-gray-900">Join</a>

        <a href="https://ssballiance.org/lettertocongress.pdf" class="text-sm font-semibold leading-6 text-gray-900">April Letter to Congress</a>

        <a href="/contactcongres.html" class="text-sm font-semibold leading-6 text-gray-900" target=”_blank”>Contact Congress</a>

        <a href="#media" class="text-sm font-semibold leading-6 text-gray-900">Media</a>

        <a href="mailto:ssballiance@mjwhansen.com" class="text-sm font-semibold leading-6 text-gray-900">Contact</a>

        <a href="/privacy.html" class="text-sm font-semibold leading-6 text-gray-900">Privacy Policy</a>

        <a href="/contactcongress.html" class="text-sm font-semibold leading-6 text-gray-900" target=”_blank”>Contact Congress</a>

        <a href="#members" class="text-sm font-semibold leading-6 text-gray-900">Members</a>
      </div>
    </div>
  </body>
  </html>
